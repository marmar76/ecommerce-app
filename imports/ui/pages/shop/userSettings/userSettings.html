<template name="userSettings">
  <div class="d-flex p-1 w-100 pe-5">
    <div class="d-flex flex-wrap filter w-25 h-50 card p-3 ms-5 mt-2">
      <div class="ms-3 d-flex align-items-center">
        <img src="{{ fotoProfile }}" class="rounded-circle me-2" style="width: 60px; height: 60px; object-fit: cover;"
          alt="">
        <span class="text-dark fs-2 fw-bold">{{thisUser.username}}</span>
      </div>
      <hr>
      <ul class="fs-4 me-3" style="list-style-type: none;">
        {{#each userMenu}}
        <li>
          <div class="d-grid gap-2 mb-3">
            <button type="button" class="btn btn{{#if equals id now}}{{ else }}-outline{{/if}}-info user-menu fs-3"
              value="{{id}}">{{ label }}</button>
          </div>
          <!-- <a href="#" class="user-menu" style="text-decoration: none;">Biodata Diri</a> -->
        </li>
        {{/each}}
        <!-- <li>Daftar Alamat</li> -->
      </ul>

    </div>
    <div class="item flex-grow-1 px-4 w-100">
      <!-- <div class="d-flex justify-content-between bd-highlight mb-3">

      </div> -->
      {{#if equals now 0}}
      <div class="d-flex p-2 gap-3">
        <div class="w-25">
          <div class="card">
            <div class="card-body">
              <div class="d-grid">
                <img src="{{ fotoProfile }}" class="w-100" alt="" srcset="">
                <input class="d-none" id="uploadImageProfile" type="file" accept="image/*" />
                <label class="btn fs-3 btn-info mt-3" for="uploadImageProfile">Pilih Foto</label>
                <!-- <button class="btn fs-3 btn-info mt-3">Pilih Foto</button> -->
              </div>
              <!-- <h5 class="card-title">Card title</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                        <a href="#" class="card-link">Card link</a>
                        <a href="#" class="card-link">Another link</a> -->
            </div>
          </div>
        </div>
        <div class="w-75">
          <div class="card">
            <div class="card-body">
              <table class="table table-borderless">
                <tr>
                  <td colspan="2" class="fs-3 fw-bold">Ubah Biodata Diri</td>
                </tr>
                <tr>
                  <td class="fs-4 w-25">Username</td>
                  <td class="fs-4">{{thisUser.username}}</td>
                </tr>
                <tr>
                  <td class="fs-4">Nama</td>
                  <td class="fs-4"><input type="text" class="form-control" id="user-name" value="{{thisUser.name}}">
                  </td>
                </tr>
                <tr>
                  <td class="fs-4">Tanggal Lahir</td>
                  <td class="fs-4"><input type="date" name="" class="form-control" id="user-dob"
                      value="{{thisUser.dob}}"></td>
                </tr>
                <tr>
                  <td colspan="2" class="fs-3 fw-bold">Ubah Kontak</td>
                </tr>
                <tr>
                  <td class="fs-4">Nomor HP</td>
                  <td class="fs-4"><input type="text" class="form-control" id="user-phone" value="{{thisUser.phone}}">
                  </td>
                </tr>
              </table>
              <div class="d-flex justify-content-end m-3"><button class="btn btn-success fs-3 fw-bold"
                  id="user-save">Save</button></div>
            </div>
          </div>
        </div>
      </div>
      {{/if}}
      {{#if equals now 1}}
      <div class="d-flex p-2 gap-3">
        <!-- <div class="w-25">
            <div class="card">
              <div class="card-body">
                <div class="d-grid">
                  <img src="{{ fotoProfile }}" class="w-100" alt="" srcset="">
                  <input class="d-none" id="uploadImageProfile" type="file" accept="image/*" />
                  <label class="btn fs-3 btn-info mt-3" for="uploadImageProfile">Pilih Foto</label>
                </div>
                <h5 class="card-title">Card title</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                        <a href="#" class="card-link">Card link</a>
                        <a href="#" class="card-link">Another link</a>
              </div>
            </div>
          </div> -->
        <div class="w-100">
          {{> userAddress}}
        </div>
      </div>
      {{/if}}
    </div>
  </div>
</template>

<template name="userAddress">
  <div class="card">
    <div class="card-body">
      <div class="d-flex mb-3 justify-content-between">
        <div class="form-group">

        </div>
        <div>
          <button class="btn btn-info rounded fs-4 add-alamat" data-bs-toggle="modal"
            data-bs-target="#modal-add-address">+
            Alamat Baru</button>
        </div>
      </div>
      <!-- {{#if addAlamat}}
      
      {{/if}} -->
      {{#if address}}
      {{#each i in address}}
      <div class="card mb-2 {{#if i.isDefault}}isSelected isblue{{/if}}">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center m-3">
            <div>
              <p class="fs-5 text-dark fw-bold">{{i.label}}</p>
              <p class="fs-4 text-dark fw-bold">{{i.name}}</p>
              <p class="fs-4 text-dark">{{i.hp}}</p>
              <p class="fs-4 text-dark">{{i.address}} - {{i.regency.label}}</p>
              <br>
              <button value="{{@index}}" class="btn-edit-alamat btn p-0 fs-6 me-2 text-success fw-bold text-decoration-none">Ubah Alamat</button>
              <!-- <br> -->
              <button value="{{@index}}" class="btn-hapus-alamat btn p-0 fs-6 text-danger fw-bold text-decoration-none">Hapus Alamat</button>
            </div>
            <div>
              {{#if i.isDefault}}
              <button class="btn fs-3 fw-bold"><i class="fa fa-check fs-3"
                  aria-hidden="true"></i>
              </button>
              {{else}}
              <button class="btn btn-info fs-6 fw-bold set-default-alamat" value="{{@index}}">
                Atur sebagai alamat utama
              </button>
              {{/if}}
              <!-- <button class="btn fs-3 fw-bold"
                  id="user-save">Save
                </button> -->
            </div>
          </div>
        </div>
      </div>
      {{/each}}
      {{else}}
      <div class="d-flex align-items-center justify-content-center fs-2" style="height: 50vh;">
        <p class="fs-2 text-dark">
          Belum ada alamat nih, bisa tambahkan alamat dulu <a data-bs-toggle="modal"
            data-bs-target="#modal-add-address" href="" class="fs-2 text-info text-decoration-none add-alamat">
            disini</a>
        </p>
      </div>
      {{/if}}
      <div class="modal fade" id="modal-add-address" data-bs-backdrop="static" data-bs-keyboard="false"
        tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title fs-3" id="staticBackdropLabel">Tambah Alamat Baru</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <div>
                <div class="form-group mb-2 fs-3">
                  <label for="">Nama Penerima</label>
                  <input id="user-nama" type="text" class="form-control fs-4" placeholder="Nama Penerima">
                </div>
                <div class="form-group mb-2 fs-3">
                  <label for="">Nomor HP</label>
                  <input id="user-hp" type="text" class="form-control fs-4" placeholder="Nomor HP">
                </div>
                <div class="form-group mb-2 fs-3">
                  <label for="">Label Alamat</label>
                  <input id="user-label" type="text" class="form-control fs-4" placeholder="Rumah Saya">
                </div>
                <div class="form-group mb-2 fs-3">
                  <label for="user-kecamatan">Kecamatan dan Kota</label>
                  <select id="user-kecamatan" class="select2">
                  </select>
                  <!-- <input type="text" class="form-control" placeholder="Kecamatan"> -->
                </div>
                <div class="form-group mb-2 fs-3">
                  <label for="">Alamat Lengkap</label>
                  <!-- <input type="text" class="form-control" placeholder="Nama Penerima"> -->
                  <textarea id="user-alamat" class="form-control fs-4" cols="30" rows="10"></textarea>
                </div>
                <div class="form-check mb-2 fs-3">
                  <input type="checkbox" class="form-check-input" id="alamat-utama">
                  <label for="alamat-utama" class="form-check-label">Jadikan alamat utama</label>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" id="btn-close-address" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
              <button type="button" id="save-alamat-user" class="btn btn-primary">Save</button>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</template>