<template name="productList">
  <div class="d-flex p-1 w-100 mt-5 pe-5">
    <div class=" d-flex flex-wrap filter w-25 h-50 card p-3 ms-5">
      <h3>Filter</h3>
      <div class="accordion accordion-flush" id="accordionFlushExample">
        <div class="accordion-item">
          <h2 class="accordion-header" id="flush-headingOne">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
              Category
            </button>
          </h2>
          <div class="accordion accordion-flush" id="accordionFlushExample2">
            <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo"
              data-bs-parent="#accordionFlushExample">
              <div class="accordion-body">
                {{#each j in categories}}
                <!-- <input class="form-check-input category" type="checkbox" name="category-{{j._id}}" id="category-{{j._id}}" value="{{j._id}}" own="{{j._id}}">
                            <label class="form-check-label" for="payment-methods-{{j.id}}">
                            {{j.name}}
                            </label> -->
                <div class="accordion accordion-flush" id="accordionFlushExample{{j._id}}">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-heading{{j._id}}">
                      <button class="accordion-button collapsed category_filter btnCategory" type="button"
                        data-bs-toggle="collapse" data-bs-target="#flush-collapse{{j._id}}" aria-expanded="false"
                        aria-controls="flush-collapse{{j._id}}" value="{{j._id}}">
                        {{j.name}}
                      </button>
                    </h2>
                    <div id="flush-collapse{{j._id}}" class="accordion-collapse collapse"
                      aria-labelledby="flush-heading{{j._id}}" data-bs-parent="#accordionFlushExample2">
                      <div class="accordion-body">
                        {{#each subcategory j._id}}
                        <button class="btn btnSubCategory bg-light w-100" value="{{_id}}"> {{name}} </button>
                        {{/each}}
                      </div>
                    </div>
                  </div>
                </div>
                {{/each}}
              </div>
            </div>
          </div>

        </div>
        <button type="button" style="display: none;" class="btn-search"></button>
        <div class="accordion-item">
          <h2 class="accordion-header" id="flush-headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
              Price
            </button>
          </h2>
          <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo"
            data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
              <label for="Harga_awal">Harga awal</label>
              <input type="number" id="hargaAwal" class="filtering"> <br>
              <label for="Harga_awal">Harga Akhir</label>
              <input type="number" id="hargaAkhir" class="filtering"> <br>
            </div>
          </div>
        </div>
        <!-- <div class="accordion-item">
                  <h2 class="accordion-header" id="flush-headingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                      Created At
                    </button>
                  </h2>
                  <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                    <div class="accordion-body">
                        <label for="date">Date From</label>
                        <input type="date" name="" id="dateFrom" class="form-control filtering" value="{{formatHTML}}">
                    </div>
                  </div>
                </div> -->
      </div>

    </div>
    <div class="item flex-grow-1 px-4 w-100">
      <div class="d-flex justify-content-between bd-highlight mb-3">
        <div class="p-2 bd-highlight">Product</div>
        <div class="p-2 bd-highlight"></div>
        <div class="p-2 bd-highlight d-flex gap-3">
          <h4 class="mt-auto">Sort</h4>
          <div class="form-group">

            <select class="form-control filtering" id="sort">
              <option value="1">Lowest Price</option>
              <option value="2">Highest Price</option>
            </select>
          </div>
        </div>
      </div>
      <div class="d-flex flex-wrap p-2 gap-3">
        {{#each items}}
        <a href="/productPage/{{_id}}" style="text-decoration:none;">
          <div class="card" style="width: 18rem;">
            <input type="hidden">
            <img src="{{link}}" class="card-img-top rounded-top" style="height: 18rem; width: 18rem; object-fit: cover;" alt="">
            <div class="card-body">
              <p class="card-text text-dark lh-base fs-6">{{name}}</p>
              <p class="card-text text-dark fw-bolder fs-5">{{formatRp lowestPrice}}</p>
              <p class="card-text mt-3"><span class="fs-5"><i class="fa fa-star text-warning"
                    aria-hidden="true"></i></span><span class="fs-5 text-dark fw-bold ms-2">5.0</span></p>
            </div>
          </div>
        </a>
        {{/each}}
      </div>
    </div>
  </div>
</template>